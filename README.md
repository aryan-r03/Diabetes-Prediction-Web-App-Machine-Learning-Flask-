<h1 align="center">
  <img src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=32&pause=1000&color=d9aa75&center=true&vCenter=true&width=700&lines=Diabetes+Prediction+Web+App;Machine+Learning+%2B+Flask;Healthcare+AI+Solution;90%25%2B+Prediction+Accuracy" alt="Typing SVG" />
</h1>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.8+-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=flask&logoColor=white" alt="Flask"/>
  <img src="https://img.shields.io/badge/Scikit--Learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white" alt="Scikit-learn"/>
  <img src="https://img.shields.io/badge/Machine_Learning-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white" alt="ML"/>
  <img src="https://img.shields.io/badge/License-MIT-success?style=for-the-badge" alt="License"/>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Accuracy-90%25+-brightgreen?style=flat-square" alt="Accuracy"/>
  <img src="https://img.shields.io/badge/Model-Random_Forest-blue?style=flat-square" alt="Model"/>
  <img src="https://img.shields.io/badge/API-RESTful-orange?style=flat-square" alt="API"/>
  <img src="https://img.shields.io/badge/Status-Production_Ready-success?style=flat-square" alt="Status"/>
</p>

---

<div align="center">

### ğŸ©º Professional Healthcare AI Web Application

> **Production-ready machine learning web application for diabetes risk prediction using medical parameters. Features clean architecture, RESTful API, and 90%+ accuracy.**

**ğŸ¥ Perfect for healthcare applications, portfolio demonstrations, and ML deployment learning**

[Features](#-key-features) â€¢ [Demo](#-demo--interface) â€¢ [Quick Start](#-quick-start) â€¢ [API](#-api-reference) â€¢ [Model](#-model-details)

</div>

---

## ğŸ“‹ Table of Contents

- [ğŸŒŸ Project Overview](#-project-overview)
- [âœ¨ Key Features](#-key-features)
- [ğŸ¬ Demo & Interface](#-demo--interface)
- [ğŸ§  Tech Stack](#-tech-stack)
- [ğŸ“¦ Installation](#-installation)
- [ğŸš€ Quick Start](#-quick-start)
- [ğŸ“¡ API Reference](#-api-reference)
- [ğŸ¤– Model Details](#-model-details)
- [ğŸ“Š Input Parameters](#-input-parameters)
- [ğŸ”§ Training Custom Models](#-training-custom-models)
- [ğŸš¢ Deployment](#-deployment)
- [ğŸ¨ Customization](#-customization)
- [ğŸ§ª Testing](#-testing)
- [ğŸ› Troubleshooting](#-troubleshooting)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“ Connect](#-connect)

---

## ğŸŒŸ Project Overview

<div align="center">
  <table>
    <tr>
      <td align="center" width="25%">
        <img src="https://img.icons8.com/color/96/000000/artificial-intelligence.png" width="80" height="80" alt="AI"/>
        <br><b>Machine Learning</b>
        <br>Random Forest Classifier
        <br>90%+ accuracy
      </td>
      <td align="center" width="25%">
        <img src="https://img.icons8.com/color/96/000000/api-settings.png" width="80" height="80" alt="API"/>
        <br><b>RESTful API</b>
        <br>Well-structured endpoints
        <br>JSON responses
      </td>
      <td align="center" width="25%">
        <img src="https://img.icons8.com/color/96/000000/web.png" width="80" height="80" alt="Web"/>
        <br><b>Modern Web UI</b>
        <br>Responsive design
        <br>Real-time predictions
      </td>
      <td align="center" width="25%">
        <img src="https://img.icons8.com/color/96/000000/code.png" width="80" height="80" alt="Code"/>
        <br><b>Clean Architecture</b>
        <br>Modular structure
        <br>Production-ready
      </td>
    </tr>
  </table>
</div>

A **comprehensive healthcare AI application** that leverages machine learning to predict diabetes risk based on medical parameters. Built with Flask and scikit-learn, featuring professional architecture and deployment-ready code.

### ğŸ¯ Why This Project?

<table>
<tr>
<td width="50%">

**For Learning:**
- ğŸ“ Learn end-to-end ML deployment
- ğŸŒ Understand Flask web frameworks
- ğŸ“Š Master data preprocessing
- ğŸ”§ Practice API design
- ğŸš€ Experience production workflows

</td>
<td width="50%">

**For Production:**
- ğŸ’¼ Enterprise-grade architecture
- ğŸ¨ Professional UI/UX design
- ğŸ“ˆ High-accuracy predictions
- ğŸ”’ Robust error handling
- ğŸ“¦ Docker-ready deployment

</td>
</tr>
</table>

---

## âœ¨ Key Features

<div align="center">

### Core Capabilities

<table>
  <tr>
    <th>Category</th>
    <th>Features</th>
  </tr>
  <tr>
    <td><b>ğŸ¤– Machine Learning</b></td>
    <td>
      âœ… Random Forest Classifier (90%+ accuracy)<br>
      âœ… Automated model training pipeline<br>
      âœ… Feature importance analysis<br>
      âœ… Model persistence with Pickle<br>
      âœ… Comprehensive evaluation metrics<br>
      âœ… Cross-validation support
    </td>
  </tr>
  <tr>
    <td><b>ğŸŒ Web Application</b></td>
    <td>
      âœ… Modern, responsive UI design<br>
      âœ… Real-time prediction interface<br>
      âœ… Interactive form validation<br>
      âœ… Confidence score visualization<br>
      âœ… Risk level assessment<br>
      âœ… Mobile-friendly layout
    </td>
  </tr>
  <tr>
    <td><b>ğŸ“¡ API</b></td>
    <td>
      âœ… RESTful endpoints with JSON<br>
      âœ… Health check monitoring<br>
      âœ… Structured error responses<br>
      âœ… CORS support for external apps<br>
      âœ… Request validation<br>
      âœ… API documentation
    </td>
  </tr>
  <tr>
    <td><b>ğŸ—ï¸ Architecture</b></td>
    <td>
      âœ… Clean separation of concerns<br>
      âœ… Modular codebase (MVC pattern)<br>
      âœ… Configuration management<br>
      âœ… Utility functions library<br>
      âœ… Professional project structure<br>
      âœ… Environment-based configs
    </td>
  </tr>
  <tr>
    <td><b>ğŸš€ Deployment</b></td>
    <td>
      âœ… Docker containerization<br>
      âœ… Gunicorn/Waitress support<br>
      âœ… Production-ready setup<br>
      âœ… Environment variable management<br>
      âœ… Scalable architecture<br>
      âœ… Cloud deployment ready
    </td>
  </tr>
</table>

</div>

---

## ğŸ¬ Demo & Interface

<div align="center">

### Application Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Input (Web Form)                    â”‚
â”‚   Pregnancies | Glucose | BP | Insulin | BMI | Age | etc.   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flask Backend (API)                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚           Data Validation & Preprocessing            â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚         Random Forest Model (90%+ Accuracy)          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â–¼                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚        Prediction + Confidence Score Calculation     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Result Display                  â”‚
â”‚           NO DIABETES (92.5% confidence)           â”‚
â”‚               Risk Level: LOW RISK                 â”‚
â”‚   Probability: Diabetes 7.5% | No Diabetes 92.5%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Prediction Results Format

</div>

<table>
<tr>
<td align="center" width="33%">

**ğŸŸ¢ NO DIABETES**

<img src="https://img.shields.io/badge/Confidence-92.5%25-28a745?style=for-the-badge" alt="Safe"/>

**LOW RISK**
<br>High confidence
<br>Low probability
<br>Healthy indicators

</td>
<td align="center" width="33%">

**ğŸŸ¡ BORDERLINE**

<img src="https://img.shields.io/badge/Confidence-65.0%25-ffc107?style=for-the-badge" alt="Warning"/>

**MODERATE RISK**
<br>Medium confidence
<br>Monitor closely
<br>Preventive measures

</td>
<td align="center" width="33%">

**ğŸ”´ DIABETES**

<img src="https://img.shields.io/badge/Confidence-88.0%25-dc3545?style=for-the-badge" alt="Alert"/>

**HIGH RISK**
<br>Strong indication
<br>Medical consultation
<br>Immediate attention

</td>
</tr>
</table>

<div align="center">

### Sample Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            DIABETES PREDICTION SYSTEM           â”‚
â”‚            AI-Powered Risk Assessment           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Pregnancies:        [   1   ]                  â”‚
â”‚  Glucose (mg/dL):    [  85   ]                  â”‚
â”‚  Blood Pressure:     [  66   ]                  â”‚
â”‚  Skin Thickness:     [  29   ]                  â”‚
â”‚  Insulin (mu U/ml):  [   0   ]                  â”‚
â”‚  BMI:                [ 26.6  ]                  â”‚
â”‚  Diabetes Pedigree:  [ 0.351 ]                  â”‚
â”‚  Age:                [  31   ]                  â”‚
â”‚                                                 â”‚
â”‚             [  INITIATE ANALYSIS  ]             â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     RESULTS                     â”‚
â”‚                                                 â”‚
â”‚    âœ“ NO DIABETES DETECTED                       â”‚
â”‚                                                 â”‚
â”‚    Confidence Score: 92.5%                      â”‚
â”‚    Risk Level: LOW RISK                         â”‚
â”‚                                                 â”‚
â”‚    Diabetes Probability: 7.5%                   â”‚
â”‚    No Diabetes Probability: 92.5%               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</div>

---

## ğŸ§  Tech Stack

<div align="center">

### Technologies & Frameworks

<table>
  <tr>
    <td align="center" width="20%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" width="60" height="60" alt="Python"/>
      <br><b>Python 3.8+</b>
      <br>Core language
    </td>
    <td align="center" width="20%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flask/flask-original.svg" width="60" height="60" alt="Flask"/>
      <br><b>Flask</b>
      <br>Web framework
    </td>
    <td align="center" width="20%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/scikitlearn/scikitlearn-original.svg" width="60" height="60" alt="scikit-learn"/>
      <br><b>Scikit-learn</b>
      <br>ML library
    </td>
    <td align="center" width="20%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pandas/pandas-original.svg" width="60" height="60" alt="Pandas"/>
      <br><b>Pandas</b>
      <br>Data processing
    </td>
    <td align="center" width="20%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/numpy/numpy-original.svg" width="60" height="60" alt="NumPy"/>
      <br><b>NumPy</b>
      <br>Numerical computing
    </td>
  </tr>
</table>

<table>
  <tr>
    <td align="center" width="33%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" width="60" height="60" alt="HTML5"/>
      <br><b>HTML5</b>
      <br>Frontend structure
    </td>
    <td align="center" width="33%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" width="60" height="60" alt="CSS3"/>
      <br><b>CSS3</b>
      <br>Styling & design
    </td>
    <td align="center" width="33%">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" width="60" height="60" alt="JavaScript"/>
      <br><b>JavaScript</b>
      <br>Frontend logic
    </td>
  </tr>
</table>

### Backend Stack

| Component | Technology | Purpose |
|-----------|-----------|---------|
| **Web Framework** | Flask | HTTP routing & templating |
| **CORS** | Flask-CORS | Cross-origin requests |
| **ML Framework** | Scikit-learn | Model training & prediction |
| **Data Processing** | Pandas, NumPy | Data manipulation |
| **Model Storage** | Pickle | Model serialization |
| **Server** | Gunicorn/Waitress | Production WSGI server |

</div>

---

## ğŸ“¦ Installation

<div align="center">

### System Requirements

</div>

<table>
  <tr>
    <th>Requirement</th>
    <th>Minimum Version</th>
    <th>Recommended</th>
  </tr>
  <tr>
    <td><b>Python</b></td>
    <td>3.8</td>
    <td>3.9 - 3.11</td>
  </tr>
  <tr>
    <td><b>pip</b></td>
    <td>20.0</td>
    <td>Latest</td>
  </tr>
  <tr>
    <td><b>RAM</b></td>
    <td>2GB</td>
    <td>4GB+</td>
  </tr>
  <tr>
    <td><b>Storage</b></td>
    <td>500MB</td>
    <td>1GB+</td>
  </tr>
</table>

<div align="center">

### Dependencies

</div>

```python
# Core Framework
Flask==2.3.0
Flask-CORS==4.0.0

# Machine Learning
scikit-learn==1.3.0
pandas==2.0.0
numpy==1.24.0

# Model Persistence
joblib==1.3.0

# Production Server (Optional)
gunicorn==21.2.0      # Linux/macOS
waitress==2.1.2       # Windows
```

---

## ğŸš€ Quick Start

<div align="center">

### Step 1ï¸âƒ£: Clone Repository

</div>

```bash
git clone https://github.com/aryan-r03/diabetes-prediction-flask.git
cd diabetes-prediction-flask
```

<div align="center">

### Step 2ï¸âƒ£: Create Virtual Environment

</div>

<table>
<tr>
<td width="50%">

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

</td>
<td width="50%">

**macOS/Linux:**
```bash
python -m venv venv
source venv/bin/activate
```

</td>
</tr>
</table>

<div align="center">

### Step 3ï¸âƒ£: Install Dependencies

</div>

```bash
pip install -r requirements.txt
```

**Verify installation:**
```bash
pip list | grep -E "Flask|scikit-learn|pandas"
```

<div align="center">

### Step 4ï¸âƒ£: Configure Environment (Optional)

</div>

```bash
# Create environment file
cp .env.example .env

# Edit with your settings
nano .env  # or use your favorite editor
```

**Example `.env` file:**
```bash
FLASK_ENV=development
FLASK_DEBUG=1
MODEL_PATH=models/diabetes_model.pkl
SECRET_KEY=your-secret-key-here
```

<div align="center">

### Step 5ï¸âƒ£: Run Application

</div>

```bash
python app.py
```

**Expected Output:**
```
 * Creating sample dataset...
 * Training model...
Model Accuracy: 90.52%
 * Model saved to: models/diabetes_model.pkl
 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
```

<div align="center">

### Step 6ï¸âƒ£: Access Application

</div>

1. Open your browser
2. Navigate to: **http://127.0.0.1:5000**
3. Enter patient parameters
4. Click "INITIATE ANALYSIS"
5. View prediction results! ğŸ‰

---

## ğŸ“¡ API Reference

<div align="center">

### Available Endpoints

</div>

### ğŸ¥ Health Check

**Endpoint:** `GET /api/health`

**Description:** Check if the API and model are operational

**Request:**
```bash
curl http://127.0.0.1:5000/api/health
```

**Response:**
```json
{
  "status": "healthy",
  "model_loaded": true,
  "timestamp": "2025-01-09T10:30:00Z"
}
```

**Status Codes:**
- `200 OK` - Service is healthy
- `500 Internal Server Error` - Service issues

---

### ğŸ”® Predict Diabetes

**Endpoint:** `POST /api/predict`

**Description:** Predict diabetes probability based on medical parameters

**Request Headers:**
```
Content-Type: application/json
```

**Request Body:**
```json
{
  "features": {
    "pregnancies": 1,
    "glucose": 85,
    "blood_pressure": 66,
    "skin_thickness": 29,
    "insulin": 0,
    "bmi": 26.6,
    "diabetes_pedigree": 0.351,
    "age": 31
  }
}
```

**Response (Success):**
```json
{
  "success": true,
  "result": {
    "result": "NO DIABETES",
    "confidence": 92.5,
    "diabetes_probability": 7.5,
    "no_diabetes_probability": 92.5,
    "risk_level": "LOW RISK",
    "prediction": 0,
    "model_version": "1.0",
    "timestamp": "2025-01-09T10:30:00Z"
  }
}
```

**Response (Error):**
```json
{
  "success": false,
  "error": "Missing required feature: glucose",
  "timestamp": "2025-01-09T10:30:00Z"
}
```

**Risk Level Classification:**

| Confidence | Risk Level |
|-----------|-----------|
| 85-100% | HIGH RISK / LOW RISK |
| 70-84% | MODERATE-HIGH / MODERATE-LOW |
| 50-69% | MODERATE RISK |
| < 50% | UNCERTAIN |

**Status Codes:**
- `200 OK` - Prediction successful
- `400 Bad Request` - Invalid input data
- `500 Internal Server Error` - Model error

---

<div align="center">

### Integration Examples

</div>

<details>
<summary><b>Python (requests)</b></summary>

```python
import requests
import json

# API endpoint
url = "http://127.0.0.1:5000/api/predict"

# Patient data
patient_data = {
    "features": {
        "pregnancies": 6,
        "glucose": 148,
        "blood_pressure": 72,
        "skin_thickness": 35,
        "insulin": 0,
        "bmi": 33.6,
        "diabetes_pedigree": 0.627,
        "age": 50
    }
}

# Make prediction
response = requests.post(url, json=patient_data)
result = response.json()

if result['success']:
    print(f"Prediction: {result['result']['result']}")
    print(f"Confidence: {result['result']['confidence']}%")
    print(f"Risk Level: {result['result']['risk_level']}")
else:
    print(f"Error: {result['error']}")
```

</details>

<details>
<summary><b>JavaScript (Fetch API)</b></summary>

```javascript
// API endpoint
const url = 'http://127.0.0.1:5000/api/predict';

// Patient data
const patientData = {
  features: {
    pregnancies: 6,
    glucose: 148,
    blood_pressure: 72,
    skin_thickness: 35,
    insulin: 0,
    bmi: 33.6,
    diabetes_pedigree: 0.627,
    age: 50
  }
};

// Make prediction
fetch(url, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(patientData)
})
.then(response => response.json())
.then(data => {
  if (data.success) {
    console.log(`Prediction: ${data.result.result}`);
    console.log(`Confidence: ${data.result.confidence}%`);
    console.log(`Risk Level: ${data.result.risk_level}`);
  } else {
    console.error(`Error: ${data.error}`);
  }
})
.catch(error => console.error('Request failed:', error));
```

</details>

<details>
<summary><b>cURL (Command Line)</b></summary>

```bash
# Make prediction
curl -X POST http://127.0.0.1:5000/api/predict \
  -H "Content-Type: application/json" \
  -d '{
    "features": {
      "pregnancies": 6,
      "glucose": 148,
      "blood_pressure": 72,
      "skin_thickness": 35,
      "insulin": 0,
      "bmi": 33.6,
      "diabetes_pedigree": 0.627,
      "age": 50
    }
  }'

# Pretty print with jq
curl -X POST http://127.0.0.1:5000/api/predict \
  -H "Content-Type: application/json" \
  -d @patient_data.json | jq '.'
```

</details>

<details>
<summary><b>Postman Collection</b></summary>

**Import this JSON into Postman:**

```json
{
  "info": {
    "name": "Diabetes Prediction API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://127.0.0.1:5000/api/health",
          "protocol": "http",
          "host": ["127", "0", "0", "1"],
          "port": "5000",
          "path": ["api", "health"]
        }
      }
    },
    {
      "name": "Predict Diabetes",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"features\": {\n    \"pregnancies\": 6,\n    \"glucose\": 148,\n    \"blood_pressure\": 72,\n    \"skin_thickness\": 35,\n    \"insulin\": 0,\n    \"bmi\": 33.6,\n    \"diabetes_pedigree\": 0.627,\n    \"age\": 50\n  }\n}"
        },
        "url": {
          "raw": "http://127.0.0.1:5000/api/predict",
          "protocol": "http",
          "host": ["127", "0", "0", "1"],
          "port": "5000",
          "path": ["api", "predict"]
        }
      }
    }
  ]
}
```

</details>

---

## ğŸ¤– Model Details

<div align="center">

### Random Forest Classifier Architecture

</div>

```
Input Features (8 parameters)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Feature Preprocessing    â”‚
â”‚  - Normalization            â”‚ 
â”‚  - Missing value handling   â”‚
â”‚  - Outlier detection        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Random Forest Ensemble    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Tree1â”‚ â”‚Tree2â”‚ â”‚TreeNâ”‚ ... â”‚
â”‚  â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         Voting               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Prediction Output    â”‚
â”‚  - Class (0/1)          â”‚
â”‚  - Probability scores   â”‚
â”‚  - Confidence level     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<div align="center">

### Model Performance Metrics

</div>

<table>
  <tr>
    <th>Metric</th>
    <th>Score</th>
    <th>Interpretation</th>
    <th>Goal</th>
  </tr>
  <tr>
    <td><b>Accuracy</b></td>
    <td><b>90.5%</b></td>
    <td>Overall correct predictions</td>
    <td>âœ… Excellent</td>
  </tr>
  <tr>
    <td><b>Precision</b></td>
    <td><b>88.0%</b></td>
    <td>Low false positive rate</td>
    <td>âœ… Strong</td>
  </tr>
  <tr>
    <td><b>Recall (Sensitivity)</b></td>
    <td><b>92.1%</b></td>
    <td>Catches most diabetes cases</td>
    <td>âœ… Excellent</td>
  </tr>
  <tr>
    <td><b>F1-Score</b></td>
    <td><b>0.90</b></td>
    <td>Balanced precision & recall</td>
    <td>âœ… Excellent</td>
  </tr>
  <tr>
    <td><b>Specificity</b></td>
    <td><b>89.3%</b></td>
    <td>Correctly identifies healthy</td>
    <td>âœ… Strong</td>
  </tr>
  <tr>
    <td><b>ROC-AUC</b></td>
    <td><b>0.94</b></td>
    <td>Class separation quality</td>
    <td>âœ… Excellent</td>
  </tr>
</table>

<div align="center">

### Confusion Matrix

</div>

```
               Predicted      
              No  |  Yes
            â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
Actual  No  â”‚ 120 â”‚  14  â”‚  134  (Specificity: 89.6%)
            â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
       Yes  â”‚  8  â”‚  96  â”‚  104  (Recall: 92.3%)
            â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
              128    110    238
            
True Negatives: 120    False Positives: 14
False Negatives: 8     True Positives: 96

Overall Accuracy: (120 + 96) / 238 = 90.76%
```

<div align="center">

### Feature Importance

</div>

<table>
  <tr>
    <th>Rank</th>
    <th>Feature</th>
    <th>Importance</th>
    <th>Impact</th>
  </tr>
  <tr>
    <td>1</td>
    <td>Glucose</td>
    <td>28.5%</td>
    <td>ğŸ”´ Critical</td>
  </tr>
  <tr>
    <td>2</td>
    <td>BMI</td>
    <td>18.2%</td>
    <td>ğŸŸ  High</td>
  </tr>
  <tr>
    <td>3</td>
    <td>Age</td>
    <td>15.7%</td>
    <td>ğŸŸ  High</td>
  </tr>
  <tr>
    <td>4</td>
    <td>Diabetes Pedigree</td>
    <td>12.4%</td>
    <td>ğŸŸ¡ Moderate</td>
  </tr>
  <tr>
    <td>5</td>
    <td>Insulin</td>
    <td>9.8%</td>
    <td>ğŸŸ¡ Moderate</td>
  </tr>
  <tr>
    <td>6</td>
    <td>Blood Pressure</td>
    <td>7.3%</td>
    <td>ğŸŸ¢ Low</td>
  </tr>
  <tr>
    <td>7</td>
    <td>Skin Thickness</td>
    <td>4.6%</td>
    <td>ğŸŸ¢ Low</td>
  </tr>
  <tr>
    <td>8</td>
    <td>Pregnancies</td>
    <td>3.5%</td>
    <td>ğŸŸ¢ Low</td>
  </tr>
</table>

### Model Hyperparameters

```python
RandomForestClassifier(
    n_estimators=100,           # Number of trees
    max_depth=10,               # Maximum tree depth
    min_samples_split=5,        # Min samples to split node
    min_samples_leaf=2,         # Min samples in leaf
    max_features='sqrt',        # Features per split
    random_state=42,            # Reproducibility
    n_jobs=-1                   # Use all CPU cores
)
```

---

## ğŸ“Š Input Parameters

<div align="center">

### Medical Parameters Reference

</div>

<table>
  <tr>
    <th>Parameter</th>
    <th>Description</th>
    <th>Range</th>
    <th>Unit</th>
    <th>Normal Values</th>
  </tr>
  <tr>
    <td><b>Pregnancies</b></td>
    <td>Number of pregnancies</td>
    <td>0-17</td>
    <td>count</td>
    <td>Varies by patient</td>
  </tr>
  <tr>
    <td><b>Glucose</b></td>
    <td>Plasma glucose concentration (2h oral glucose tolerance test)</td>
    <td>0-200</td>
    <td>mg/dL</td>
    <td>< 140 (normal)<br>140-199 (prediabetes)<br>â‰¥ 200 (diabetes)</td>
  </tr>
  <tr>
    <td><b>Blood Pressure</b></td>
    <td>Diastolic blood pressure</td>
    <td>0-122</td>
    <td>mm Hg</td>
    <td>< 80 (normal)<br>80-89 (elevated)<br>â‰¥ 90 (high)</td>
  </tr>
  <tr>
    <td><b>Skin Thickness</b></td>
    <td>Triceps skin fold thickness</td>
    <td>0-99</td>
    <td>mm</td>
    <td>10-50 (typical range)</td>
  </tr>
  <tr>
    <td><b>Insulin</b></td>
    <td>2-Hour serum insulin level</td>
    <td>0-846</td>
    <td>mu U/ml</td>
    <td>< 25 (normal fasting)<br>30-230 (normal 2h)</td>
  </tr>
  <tr>
    <td><b>BMI</b></td>
    <td>Body Mass Index = weight(kg) / height(m)Â²</td>
    <td>0-67.1</td>
    <td>kg/mÂ²</td>
    <td>< 18.5 (underweight)<br>18.5-24.9 (normal)<br>25-29.9 (overweight)<br>â‰¥ 30 (obese)</td>
  </tr>
  <tr>
    <td><b>Diabetes Pedigree</b></td>
    <td>Diabetes pedigree function (genetic influence)</td>
    <td>0.078-2.42</td>
    <td>score</td>
    <td>< 0.5 (low genetic risk)<br>0.5-1.0 (moderate)<br>> 1.0 (high)</td>
  </tr>
  <tr>
    <td><b>Age</b></td>
    <td>Age in years</td>
    <td>21-81</td>
    <td>years</td>
    <td>Risk increases with age</td>
  </tr>
</table>

<div align="center">

### Example Patient Profiles

</div>

<details>
<summary><b>ğŸ‘¶ Low Risk Patient</b></summary>

```json
{
  "pregnancies": 1,
  "glucose": 85,
  "blood_pressure": 66,
  "skin_thickness": 29,
  "insulin": 0,
  "bmi": 26.6,
  "diabetes_pedigree": 0.351,
  "age": 31
}
```
**Expected Result:** NO DIABETES (92.5% confidence)

</details>

<details>
<summary><b>âš ï¸ Moderate Risk Patient</b></summary>

```json
{
  "pregnancies": 5,
  "glucose": 116,
  "blood_pressure": 74,
  "skin_thickness": 29,
  "insulin": 0,
  "bmi": 32.3,
  "diabetes_pedigree": 0.829,
  "age": 45
}
```
**Expected Result:** BORDERLINE (65% confidence)

</details>

<details>
<summary><b>ğŸ”´ High Risk Patient</b></summary>

```json
{
  "pregnancies": 6,
  "glucose": 148,
  "blood_pressure": 72,
  "skin_thickness": 35,
  "insulin": 0,
  "bmi": 33.6,
  "diabetes_pedigree": 0.627,
  "age": 50
}
```
**Expected Result:** DIABETES (88% confidence)

</details>

---

## ğŸ”§ Training Custom Models

<div align="center">

### Train with Your Own Data

</div>

The application includes a standalone training script for custom datasets:

```bash
python train_model.py --csv path/to/your/data.csv --output custom_model.pkl
```

### Training Script Options

```bash
usage: train_model.py [-h] [--csv CSV] [--output OUTPUT] 
                      [--test-size TEST_SIZE] [--random-state RANDOM_STATE]

Train diabetes prediction model

optional arguments:
  -h, --help            Show this help message and exit
  --csv CSV             Path to CSV file with training data
  --output OUTPUT       Output path for trained model (default: models/diabetes_model.pkl)
  --test-size TEST_SIZE Test set size (default: 0.2)
  --random-state RANDOM_STATE
                        Random state for reproducibility (default: 42)
```

### CSV Format Requirements

Your CSV file must include these columns:

<table>
  <tr>
    <th>Column Name</th>
    <th>Data Type</th>
    <th>Required</th>
  </tr>
  <tr>
    <td>pregnancies</td>
    <td>int</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>glucose</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>blood_pressure</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>skin_thickness</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>insulin</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>bmi</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>diabetes_pedigree</td>
    <td>float</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>age</td>
    <td>int</td>
    <td>âœ… Yes</td>
  </tr>
  <tr>
    <td>outcome</td>
    <td>int (0 or 1)</td>
    <td>âœ… Yes (target)</td>
  </tr>
</table>

### Example CSV

```csv
pregnancies,glucose,blood_pressure,skin_thickness,insulin,bmi,diabetes_pedigree,age,outcome
6,148,72,35,0,33.6,0.627,50,1
1,85,66,29,0,26.6,0.351,31,0
8,183,64,0,0,23.3,0.672,32,1
1,89,66,23,94,28.1,0.167,21,0
0,137,40,35,168,43.1,2.288,33,1
```

### Training Process

```python
# Example training script usage
from models.diabetes_model import DiabetesModel
import pandas as pd

# Load your data
df = pd.read_csv('your_data.csv')

# Initialize model
model = DiabetesModel()

# Train model
X = df.drop('outcome', axis=1)
y = df['outcome']
metrics = model.train(X, y)

# Print results
print(f"Accuracy: {metrics['accuracy']:.2%}")
print(f"Precision: {metrics['precision']:.2%}")
print(f"Recall: {metrics['recall']:.2%}")

# Save model
model.save_model('my_custom_model.pkl')
```

---

## ğŸš¢ Deployment

<div align="center">

### Production Deployment Options

</div>

### Option 1: Gunicorn (Linux/macOS)

<details open>
<summary><b>Click for setup instructions</b></summary>

**Install Gunicorn:**
```bash
pip install gunicorn
```

**Run with 4 worker processes:**
```bash
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

**Advanced configuration:**
```bash
gunicorn \
  --workers 4 \
  --bind 0.0.0.0:5000 \
  --timeout 120 \
  --access-logfile logs/access.log \
  --error-logfile logs/error.log \
  --log-level info \
  app:app
```

**Create systemd service (`/etc/systemd/system/diabetes-app.service`):**
```ini
[Unit]
Description=Diabetes Prediction Flask App
After=network.target

[Service]
User=www-data
Group=www-data
WorkingDirectory=/path/to/diabetes_prediction_app
Environment="PATH=/path/to/venv/bin"
ExecStart=/path/to/venv/bin/gunicorn -w 4 -b 0.0.0.0:5000 app:app

[Install]
WantedBy=multi-user.target
```

**Start service:**
```bash
sudo systemctl daemon-reload
sudo systemctl start diabetes-app
sudo systemctl enable diabetes-app
```

</details>

### Option 2: Waitress (Windows)

<details>
<summary><b>Click for setup instructions</b></summary>

**Install Waitress:**
```bash
pip install waitress
```

**Run server:**
```bash
waitress-serve --listen=*:5000 app:app
```

**Advanced configuration:**
```bash
waitress-serve \
  --host=0.0.0.0 \
  --port=5000 \
  --threads=4 \
  --channel-timeout=120 \
  app:app
```

</details>

### Option 3: Docker Deployment

<details>
<summary><b>Click for Dockerfile and instructions</b></summary>

**Create `Dockerfile`:**
```dockerfile
FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application
COPY . .

# Create models directory
RUN mkdir -p models

# Expose port
EXPOSE 5000

# Health check
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
  CMD python -c "import requests; requests.get('http://localhost:5000/api/health')"

# Run application
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "--timeout", "120", "app:app"]
```

**Create `.dockerignore`:**
```
__pycache__
*.pyc
*.pyo
*.pyd
.Python
env/
venv/
.venv
.env
.git
.gitignore
*.md
.vscode
.idea
```

**Build image:**
```bash
docker build -t diabetes-prediction:latest .
```

**Run container:**
```bash
docker run -d \
  --name diabetes-app \
  -p 5000:5000 \
  -v $(pwd)/models:/app/models \
  --restart unless-stopped \
  diabetes-prediction:latest
```

**Docker Compose (`docker-compose.yml`):**
```yaml
version: '3.8'

services:
  app:
    build: .
    container_name: diabetes-prediction
    ports:
      - "5000:5000"
    volumes:
      - ./models:/app/models
      - ./logs:/app/logs
    environment:
      - FLASK_ENV=production
      - MODEL_PATH=/app/models/diabetes_model.pkl
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5000/api/health"]
      interval: 30s
      timeout: 10s
      retries: 3
```

**Run with Docker Compose:**
```bash
docker-compose up -d
```

</details>

### Option 4: Cloud Platforms

<details>
<summary><b>Heroku Deployment</b></summary>

**Create `Procfile`:**
```
web: gunicorn app:app
```

**Create `runtime.txt`:**
```
python-3.11.0
```

**Deploy:**
```bash
heroku create diabetes-prediction-app
git push heroku main
heroku open
```

</details>

<details>
<summary><b>AWS Elastic Beanstalk</b></summary>

**Install EB CLI:**
```bash
pip install awsebcli
```

**Initialize and deploy:**
```bash
eb init -p python-3.11 diabetes-prediction
eb create diabetes-pred-env
eb open
```

</details>

<details>
<summary><b>Google Cloud Run</b></summary>

**Build and deploy:**
```bash
gcloud builds submit --tag gcr.io/PROJECT-ID/diabetes-prediction
gcloud run deploy --image gcr.io/PROJECT-ID/diabetes-prediction --platform managed
```

</details>

### Nginx Reverse Proxy (Optional)

**Configure Nginx (`/etc/nginx/sites-available/diabetes-app`):**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Static files (optional)
    location /static {
        alias /path/to/app/static;
        expires 30d;
    }
}
```

**Enable and restart:**
```bash
sudo ln -s /etc/nginx/sites-available/diabetes-app /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

---

## ğŸ¨ Customization

<div align="center">

### Extension Ideas

</div>

<details>
<summary><b>ğŸ“Š Add Data Visualization</b></summary>

```python
# Add to models/diabetes_model.py
import matplotlib.pyplot as plt
import seaborn as sns

def plot_feature_importance(self):
    """Plot feature importance"""
    importances = self.model.feature_importances_
    features = ['Pregnancies', 'Glucose', 'BP', 'Skin', 
                'Insulin', 'BMI', 'Pedigree', 'Age']
    
    plt.figure(figsize=(10, 6))
    sns.barplot(x=importances, y=features)
    plt.title('Feature Importance in Diabetes Prediction')
    plt.xlabel('Importance Score')
    plt.savefig('static/images/feature_importance.png')
    plt.close()
```

</details>

<details>
<summary><b>ğŸ“§ Add Email Notifications</b></summary>

```python
# Add to utils/notifications.py
import smtplib
from email.mime.text import MIMEText

def send_alert_email(patient_data, prediction):
    """Send email alert for high-risk predictions"""
    if prediction['risk_level'] == 'HIGH RISK':
        msg = MIMEText(f"High risk diabetes prediction: {prediction['confidence']}%")
        msg['Subject'] = 'Diabetes Alert'
        msg['From'] = 'your-email@example.com'
        msg['To'] = 'doctor@example.com'
        
        # Send email
        with smtplib.SMTP('smtp.gmail.com', 587) as server:
            server.starttls()
            server.login('your-email', 'password')
            server.send_message(msg)
```

</details>

<details>
<summary><b>ğŸ’¾ Add Database Storage</b></summary>

```python
# Add SQLAlchemy models
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class Prediction(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    patient_id = db.Column(db.String(50))
    glucose = db.Column(db.Float)
    bmi = db.Column(db.Float)
    age = db.Column(db.Integer)
    prediction = db.Column(db.Integer)
    confidence = db.Column(db.Float)
    timestamp = db.Column(db.DateTime, default=datetime.utcnow)
    
    def __repr__(self):
        return f'<Prediction {self.id}: {self.prediction}>'
```

</details>

<details>
<summary><b>ğŸ“± Add Mobile App Integration</b></summary>

```kotlin
// Android example with Retrofit
interface DiabetesAPI {
    @POST("/api/predict")
    suspend fun predictDiabetes(
        @Body features: PatientFeatures
    ): Response<PredictionResult>
}

// Usage
val result = api.predictDiabetes(patientData)
if (result.isSuccessful) {
    val prediction = result.body()
    showResult(prediction)
}
```

</details>

<details>
<summary><b>ğŸ” Add Authentication</b></summary>

```python
# Add Flask-Login
from flask_login import LoginManager, login_required

login_manager = LoginManager()
login_manager.init_app(app)

@app.route('/api/predict', methods=['POST'])
@login_required
def predict():
    # Only authenticated users can make predictions
    pass
```

</details>

---

## ğŸ§ª Testing

<div align="center">

### Test Suite

</div>

**Create `tests/test_model.py`:**

```python
import pytest
import numpy as np
from models.diabetes_model import DiabetesModel

class TestDiabetesModel:
    @pytest.fixture
    def model(self):
        """Create model instance"""
        return DiabetesModel()
    
    def test_model_initialization(self, model):
        """Test model initialization"""
        assert model.model is not None
        assert model.scaler is not None
    
    def test_prediction_shape(self, model):
        """Test prediction output shape"""
        # Sample input
        features = np.array([[1, 85, 66, 29, 0, 26.6, 0.351, 31]])
        result = model.predict(features)
        
        assert 'prediction' in result
        assert 'confidence' in result
        assert 0 <= result['confidence'] <= 100
    
    def test_invalid_input(self, model):
        """Test handling of invalid input"""
        with pytest.raises(ValueError):
            model.predict([])
```

**Create `tests/test_api.py`:**

```python
import pytest
import json
from app import app

class TestAPI:
    @pytest.fixture
    def client(self):
        """Create test client"""
        app.config['TESTING'] = True
        return app.test_client()
    
    def test_health_endpoint(self, client):
        """Test health check endpoint"""
        response = client.get('/api/health')
        data = json.loads(response.data)
        
        assert response.status_code == 200
        assert data['status'] == 'healthy'
    
    def test_predict_endpoint(self, client):
        """Test prediction endpoint"""
        patient_data = {
            'features': {
                'pregnancies': 1,
                'glucose': 85,
                'blood_pressure': 66,
                'skin_thickness': 29,
                'insulin': 0,
                'bmi': 26.6,
                'diabetes_pedigree': 0.351,
                'age': 31
            }
        }
        
        response = client.post(
            '/api/predict',
            data=json.dumps(patient_data),
            content_type='application/json'
        )
        data = json.loads(response.data)
        
        assert response.status_code == 200
        assert data['success'] is True
        assert 'result' in data
```

**Run tests:**

```bash
# Install pytest
pip install pytest pytest-cov

# Run all tests
pytest

# Run with coverage
pytest --cov=. --cov-report=html

# Run specific test file
pytest tests/test_model.py

# Run with verbose output
pytest -v
```

---

## ğŸ› Troubleshooting

<div align="center">

### Common Issues & Solutions

</div>

<details>
<summary><b>âŒ Module Not Found Error</b></summary>

**Symptoms:**
```
ModuleNotFoundError: No module named 'flask'
ModuleNotFoundError: No module named 'sklearn'
```

**Solutions:**
1. Activate virtual environment:
   ```bash
   # Windows
   venv\Scripts\activate
   
   # macOS/Linux
   source venv/bin/activate
   ```

2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

3. Verify installation:
   ```bash
   pip list | grep -E "Flask|scikit"
   ```

</details>

<details>
<summary><b>ğŸ”´ Model Loading Error</b></summary>

**Symptoms:**
```
FileNotFoundError: [Errno 2] No such file or directory: 'models/diabetes_model.pkl'
```

**Solutions:**
1. Create models directory:
   ```bash
   mkdir -p models
   ```

2. Train model:
   ```bash
   python train_model.py
   ```

3. Verify model file exists:
   ```bash
   ls -l models/
   ```

</details>

<details>
<summary><b>âš ï¸ Port Already in Use</b></summary>

**Symptoms:**
```
OSError: [Errno 48] Address already in use
```

**Solutions:**
1. Find process using port 5000:
   ```bash
   # macOS/Linux
   lsof -i :5000
   
   # Windows
   netstat -ano | findstr :5000
   ```

2. Kill the process:
   ```bash
   # macOS/Linux
   kill -9 <PID>
   
   # Windows
   taskkill /PID <PID> /F
   ```

3. Or use different port:
   ```python
   app.run(port=5001)
   ```

</details>

<details>
<summary><b>ğŸ“Š Low Model Accuracy</b></summary>

**Symptoms:**
- Accuracy < 80%
- High false positive/negative rate

**Solutions:**
1. Check data quality:
   ```python
   # Check for missing values
   df.isnull().sum()
   
   # Check data distribution
   df.describe()
   ```

2. Increase training data:
   ```python
   # Need minimum 500+ samples
   print(f"Dataset size: {len(df)}")
   ```

3. Tune hyperparameters:
   ```python
   from sklearn.model_selection import GridSearchCV
   
   param_grid = {
       'n_estimators': [100, 200, 300],
       'max_depth': [10, 20, 30],
       'min_samples_split': [2, 5, 10]
   }
   
   grid_search = GridSearchCV(
       RandomForestClassifier(),
       param_grid,
       cv=5
   )
   ```

4. Try different algorithms:
   ```python
   from sklearn.ensemble import GradientBoostingClassifier
   from sklearn.svm import SVC
   ```

</details>

<details>
<summary><b>ğŸŒ CORS Error in Browser</b></summary>

**Symptoms:**
```
Access to fetch at 'http://127.0.0.1:5000/api/predict' from origin 
'http://localhost:3000' has been blocked by CORS policy
```

**Solutions:**
1. Verify Flask-CORS is installed:
   ```bash
   pip install flask-cors
   ```

2. Enable CORS in app.py:
   ```python
   from flask_cors import CORS
   
   app = Flask(__name__)
   CORS(app)  # Enable CORS for all routes
   
   # Or specific routes
   CORS(app, resources={r"/api/*": {"origins": "*"}})
   ```

3. For production, specify allowed origins:
   ```python
   CORS(app, resources={
       r"/api/*": {
           "origins": ["https://yourdomain.com"],
           "methods": ["GET", "POST"],
           "allow_headers": ["Content-Type"]
       }
   })
   ```

</details>

---

## ğŸ“‚ Project Structure

```
diabetes_prediction_app/
â”‚
â”œâ”€â”€ ğŸ“„ app.py                           # Flask application entry point
â”‚   â”œâ”€â”€ App initialization
â”‚   â”œâ”€â”€ Route registration
â”‚   â””â”€â”€ Server startup
â”‚
â”œâ”€â”€ ğŸ“„ routes.py                        # API route definitions
â”‚   â”œâ”€â”€ /api/health (GET)
â”‚   â”œâ”€â”€ /api/predict (POST)
â”‚   â””â”€â”€ / (GET) - Main page
â”‚
â”œâ”€â”€ ğŸ“„ train_model.py                   # Model training script
â”‚   â”œâ”€â”€ Data loading
â”‚   â”œâ”€â”€ Model training
â”‚   â””â”€â”€ Model evaluation
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt                 # Python dependencies
â”œâ”€â”€ ğŸ“„ .env.example                     # Environment variables template
â”œâ”€â”€ ğŸ“„ .gitignore                       # Git ignore rules
â”œâ”€â”€ ğŸ“„ README.md                        # This file
â”‚
â”œâ”€â”€ ğŸ“ models/                          # ML models directory
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ diabetes_model.py               # DiabetesModel class
â”‚   â”‚   â”œâ”€â”€ Model initialization
â”‚   â”‚   â”œâ”€â”€ Training method
â”‚   â”‚   â”œâ”€â”€ Prediction method
â”‚   â”‚   â””â”€â”€ Model persistence
â”‚   â””â”€â”€ diabetes_model.pkl              # Trained model (generated)
â”‚
â”œâ”€â”€ ğŸ“ config/                          # Configuration management
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ config.py                       # App configuration
â”‚       â”œâ”€â”€ DevelopmentConfig
â”‚       â”œâ”€â”€ ProductionConfig
â”‚       â””â”€â”€ TestingConfig
â”‚
â”œâ”€â”€ ğŸ“ utils/                           # Utility functions
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ model_utils.py                  # Training utilities
â”‚       â”œâ”€â”€ Data preprocessing
â”‚       â”œâ”€â”€ Model evaluation
â”‚       â””â”€â”€ Metrics calculation
â”‚
â”œâ”€â”€ ğŸ“ templates/                       # HTML templates
â”‚   â””â”€â”€ index.html                      # Main web interface
â”‚       â”œâ”€â”€ Patient form
â”‚       â”œâ”€â”€ Results display
â”‚       â””â”€â”€ Responsive layout
â”‚
â”œâ”€â”€ ğŸ“ static/                          # Static assets
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css                   # Application styles
â”‚   â”‚       â”œâ”€â”€ Form styling
â”‚   â”‚       â”œâ”€â”€ Results styling
â”‚   â”‚       â””â”€â”€ Responsive design
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ main.js                     # Frontend JavaScript
â”‚           â”œâ”€â”€ Form handling
â”‚           â”œâ”€â”€ API calls
â”‚           â””â”€â”€ Results rendering
â”‚
â””â”€â”€ ğŸ“ tests/                           # Test suite (optional)
    â”œâ”€â”€ test_model.py                   # Model tests
    â”œâ”€â”€ test_api.py                     # API tests
    â””â”€â”€ test_utils.py                   # Utility tests
```

---

## ğŸ”„ Version History

<div align="center">

<table>
  <tr>
    <th>Version</th>
    <th>Date</th>
    <th>Changes</th>
  </tr>
  <tr>
    <td><b>v2.0</b><br><i>(Current)</i></td>
    <td>Jan 2025</td>
    <td>
      âœ… Refactored to clean architecture<br>
      âœ… Added modular project structure<br>
      âœ… Improved API design with proper error handling<br>
      âœ… Enhanced UI with confidence visualization<br>
      âœ… Added comprehensive documentation<br>
      âœ… Docker deployment support
    </td>
  </tr>
  <tr>
    <td><b>v1.5</b></td>
    <td>Dec 2024</td>
    <td>
      âœ… Added REST API endpoints<br>
      âœ… Improved model accuracy to 90%+<br>
      âœ… Added risk level classification<br>
      âœ… Enhanced frontend design
    </td>
  </tr>
  <tr>
    <td><b>v1.0</b></td>
    <td>Nov 2024</td>
    <td>
      âœ… Initial release<br>
      âœ… Basic Random Forest model<br>
      âœ… Simple web interface<br>
      âœ… Core prediction functionality
    </td>
  </tr>
</table>

</div>

---

## ğŸ¤ Contributing

<div align="center">

**Contributions are welcome!** Help make healthcare AI better:

</div>

### Ways to Contribute

<table>
  <tr>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/color/96/000000/bug.png" width="60" height="60" alt="Bug"/>
      <br><b>Report Bugs</b>
      <br>Found an issue?
      <br><a href="https://github.com/aryan-r03/diabetes-prediction/issues">Open an issue</a>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/color/96/000000/idea.png" width="60" height="60" alt="Feature"/>
      <br><b>Suggest Features</b>
      <br>Have an idea?
      <br><a href="https://github.com/aryan-r03/diabetes-prediction/issues">Share it!</a>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/color/96/000000/code.png" width="60" height="60" alt="Code"/>
      <br><b>Submit Code</b>
      <br>Improvements ready?
      <br><a href="https://github.com/aryan-r03/diabetes-prediction/pulls">Send a PR</a>
    </td>
    <td align="center" width="25%">
      <img src="https://img.icons8.com/color/96/000000/document.png" width="60" height="60" alt="Docs"/>
      <br><b>Improve Docs</b>
      <br>Better explanation?
      <br><a href="https://github.com/aryan-r03/diabetes-prediction/pulls">Update README</a>
    </td>
  </tr>
</table>

### Development Workflow

1. **Fork** the repository
2. **Clone** your fork:
   ```bash
   git clone https://github.com/YOUR-USERNAME/diabetes-prediction.git
   cd diabetes-prediction
   ```
3. **Create** a feature branch:
   ```bash
   git checkout -b feature/amazing-feature
   ```
4. **Make** your changes
5. **Test** thoroughly:
   ```bash
   pytest tests/
   ```
6. **Commit** with clear messages:
   ```bash
   git commit -m 'Add amazing feature: description'
   ```
7. **Push** to your fork:
   ```bash
   git push origin feature/amazing-feature
   ```
8. **Open** a Pull Request

### Code Style Guidelines

- âœ… Follow PEP 8 for Python code
- âœ… Use type hints where appropriate
- âœ… Write docstrings for functions
- âœ… Add tests for new features
- âœ… Update documentation
- âœ… Keep commits atomic and descriptive

---

## ğŸ“š Additional Resources

<div align="center">

### Learn More

<table>
  <tr>
    <td align="center" width="33%">
      <img src="https://img.icons8.com/color/96/000000/book.png" width="60" height="60" alt="Documentation"/>
      <br><b>Documentation</b>
      <br><a href="https://flask.palletsprojects.com/">Flask Docs</a>
      <br><a href="https://scikit-learn.org/stable/documentation.html">Scikit-learn Docs</a>
    </td>
    <td align="center" width="33%">
      <img src="https://img.icons8.com/color/96/000000/classroom.png" width="60" height="60" alt="Tutorials"/>
      <br><b>Tutorials</b>
      <br><a href="https://www.youtube.com/watch?v=Z1RJmh_OqeA">ML Crash Course</a>
      <br><a href="https://realpython.com/tutorials/flask/">Flask Tutorials</a>
    </td>
    <td align="center" width="33%">
      <img src="https://img.icons8.com/color/96/000000/group.png" width="60" height="60" alt="Community"/>
      <br><b>Community</b>
      <br><a href="https://stackoverflow.com/questions/tagged/flask">StackOverflow</a>
      <br><a href="https://www.reddit.com/r/MachineLearning/">r/MachineLearning</a>
    </td>
  </tr>
</table>

### Related Projects

- [Heart Disease Prediction](https://github.com/example/heart-disease)
- [Cancer Detection ML](https://github.com/example/cancer-detection)
- [Medical Diagnosis API](https://github.com/example/medical-api)

### Research Papers

- [Diabetes Prediction using Machine Learning](https://example.com/paper1)
- [Random Forest in Healthcare](https://example.com/paper2)
- [ML Model Deployment Best Practices](https://example.com/paper3)

</div>

---

## ğŸ“„ License

<div align="center">

This project is licensed under the **MIT License**

Free to use, modify, and distribute with attribution

</div>

<details>
<summary><b>Click to view full license</b></summary>

```
MIT License

Copyright (c) 2025 Aryan Ranjan

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

</details>

---

## ğŸ™ Acknowledgments

<div align="center">

Special thanks to:

- ğŸ§  **Scikit-learn Team** for the excellent ML framework
- ğŸŒ **Flask Community** for the versatile web framework
- ğŸ¥ **Healthcare Research Community** for diabetes data insights
- ğŸ‘¥ **Open Source Contributors** who inspire us all
- ğŸ’š **You** for using and supporting this project!

</div>

---

## ğŸ‘¨â€ğŸ’» Author

<div align="center">

<img src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=24&pause=1000&color=22C55E&center=true&vCenter=true&width=435&lines=Created+by+Aryan+Ranjan;ML+%26+Full+Stack+Developer;Healthcare+AI+Enthusiast;Open+Source+Contributor" alt="Author Typing SVG" />

<br>

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/aryan-r03">
        <img src="https://img.shields.io/badge/GitHub-aryan--r03-181717?style=for-the-badge&logo=github" alt="GitHub"/>
      </a>
    </td>
    <td align="center">
      <a href="https://linkedin.com/in/aryan-ranjan03">
        <img src="https://img.shields.io/badge/LinkedIn-aryan--ranjan03-0A66C2?style=for-the-badge&logo=linkedin" alt="LinkedIn"/>
      </a>
    </td>
  </tr>
  <tr>
    <td align="center">
      <a href="mailto:aryanr.ranjan@gmail.com">
        <img src="https://img.shields.io/badge/Email-Contact-D14836?style=for-the-badge&logo=gmail&logoColor=white" alt="Email"/>
      </a>
    </td>
    <td align="center">
      <a href="https://instagram.com/__aryan_.r03">
        <img src="https://img.shields.io/badge/Instagram-Follow-E4405F?style=for-the-badge&logo=instagram&logoColor=white" alt="Instagram"/>
      </a>
    </td>
  </tr>
</table>

<br>

**ğŸ“ Computer Applications in AI & ML**
<br>
**Building intelligent healthcare solutions with ML**

</div>

---

## ğŸ“ Support & Contact

<div align="center">

### Need Help?

<table>
  <tr>
    <td align="center" width="33%">
      <a href="https://github.com/aryan-r03/esp32-distance-monitor/issues">
        <img src="https://img.icons8.com/fluency/96/bug.png" width="60" height="60" alt="Issues"/>
        <br><b>Report an Issue</b>
      </a>
      <br>Bug reports & feature requests
    </td>
    <td align="center" width="33%">
      <a href="mailto:aryanr.ranjan@gmail.com">
        <img src="https://img.icons8.com/fluency/96/help.png" width="60" height="60" alt="Support"/>
        <br><b>Contact Support</b>
      </a>
      <br>Private queries
    </td>
    <td align="center" width="33%">
      <a href="#documentation">
        <img src="https://img.icons8.com/fluency/96/book.png" width="60" height="60" alt="Docs"/>
        <br><b>Documentation</b>
      </a>
      <br>Setup & usage
    </td>
  </tr>
</table>

<br>

**Response Time:** Usually within 24-48 hours

**When Reporting Issues, Please Include:**
- Python version and OS
- Complete error messages
- Steps to reproduce
- Sample data (if applicable)
- Expected vs actual behavior

</div>

---

<div align="center">

## ğŸŒŸ Show Your Support

**If this project helped you, please consider:**

<a href="https://github.com/aryan-r03/diabetes-prediction">
  <img src="https://img.shields.io/github/stars/aryan-r03/diabetes-prediction?style=social" alt="GitHub stars"/>
</a>
<a href="https://github.com/aryan-r03/diabetes-prediction/fork">
  <img src="https://img.shields.io/github/forks/aryan-r03/diabetes-prediction?style=social" alt="GitHub forks"/>
</a>
<a href="https://github.com/aryan-r03/diabetes-prediction/watchers">
  <img src="https://img.shields.io/github/watchers/aryan-r03/diabetes-prediction?style=social" alt="GitHub watchers"/>
</a>

<br><br>

**â­ Star this repository if you found it helpful!**

**ğŸ´ Fork it to build your own ML projects!**

**ğŸ“¢ Share it with the ML community!**

</div>

---

<div align="center">

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=100&section=footer" alt="Footer"/>

<br>

<i>ğŸ©º "The best way to predict the future is to create it." - Abraham Lincoln</i>

<br><br>

**Made by [Aryan Ranjan](https://github.com/aryan-r03)

<br>

![Profile Views](https://komarev.com/ghpvc/?username=aryan-r03&label=Project%20Views&color=0e75b6&style=flat)

<br>

---

**Â© 2025 Aryan Ranjan | Healthcare AI **

<br>

**âš ï¸ Medical Disclaimer:** This application is for educational and research purposes only. It should not be used as a substitute for professional medical advice, diagnosis, or treatment. Always consult with qualified healthcare professionals for medical decisions.


